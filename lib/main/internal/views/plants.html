{{ block "index" . }}
<!DOCTYPE html>
<html lang="en">
{{ template "head" . }}
<body class="p-4">
    <main class="w-[600px] mx-auto">
        <a href="/plants/new">
            <button class="btn btn-secondary">
                Create Plant
            </button>
        </a>
        {{ template "plants" .Data }}
    </main>
</body>
</html>
{{ end }}

{{ block "addPlantForm" . }}
<form id="addPlantForm" hx-post="/plants" hx-swap="outerHTML" >
    <label for="name">Name</label>
    <input name="name"
           {{ if .Values }}
                {{ if .Values.name }}
                    value="{{ .Values.name }}"
                {{ end }}
           {{ end }}
           placeholder="Name"
           id="name"
    >

    {{ if (.Errors) }}
        {{ if (.Errors.name) }}
            <div class="text-red-500">{{ .Errors.name }}</div>
        {{ end }}
    {{ end }}

    <label for="family">Family</label>
    <input
            type="text"
            {{ if (.Values) }}
            {{ if (.Values.Family) }}
           value="{{ .Values.Family }}"
           {{ end }}
           {{ end }}
           name="family"
           placeholder="Family"
            id="family"
    >

    {{ if (.Errors) }}
        {{ if (.Errors.Family) }}
            <div class="error">{{ .Errors.Family }}</div>
        {{ end }}
    {{ end }}

    <button class="btn btn-primary text-white" type="submit">Button</button>
</form>
{{ end }}

{{ block "plants" . }}
    <div id="plants">
        {{ range .Plants }}
            {{ template "plant" . }}
        {{ end }}
    </div>
{{ end }}

{{ block "plant" . }}
<div class="plant" style="display: flex;" >
    <div hx-delete="/plants/{{ .ID }}" hx-swap="outerHTML" hx-target="closest .plant" style="cursor: pointer; width: 24px; height: 24px">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path fill="none" d="M0 0h24v24H0z"/>
            <path d="M4 2h16a1 1 0 011 1v1a1 1 0 01-1 1H4a1 1 0 01-1-1V3a1 1 0 011-1zM3 6h18v16a1 1 0 01-1 1H4a1 1 0 01-1-1V6zm3 3v9a1 1 0 002 0v-9a1 1 0 00-2 0zm5 0v9a1 1 0 002 0v-9a1 1 0 00-2 0zm5 0v9a1 1 0 002 0v-9a1 1 0 00-2 0z"/>
        </svg>
    </div>
    <div>
        {{ .ID }}
        Name: <span>{{ .Common }}</span>
        Family: <span>{{ .Family }}</span>
    </div>
</div>
{{ end }}

{{ block "oob-plant" . }}
    <div hx-swap-oob="afterbegin" id="plants">
        {{ template "plant" . }}
    </div>
{{ end }}
